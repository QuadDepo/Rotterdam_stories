     <!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <meta name="HandheldFriendly" content="true" />
        <meta htp-equiv="X-UA-Compatible" content="ie=edge">

        <link rel="stylesheet" href="/css/main.css">
        <title>Home</title>
    </head>
    <body>
<script>
  if (localStorage.getItem('token') === null) {
    window.location.href = "/";
  }
</script>

<div id="foto-previeuw">
    <img src="#" alt="">
    <div id="foto-knoppen">
        <div class="container-fluid">
            <div class="col-xs-6 no"><i class="fa fa-times"></i></div>
            <div class="col-xs-6 yes"><i class="fa fa-check"></i></div>

        </div>
    </div>
</div>

  <div id="top_menu" class="navbar-fixed-top">
      <div class="container-fluid">
          <div class="row">
              <div class="col-xs-4">
                  <img src="/img/logo_sm.svg" class="img-responsive logo" alt="">
              </div>
              <div class="col-xs-offset-4 col-xs-4">
                <button id="cam" type="button" name="button"><i class="fa fa-camera"></i></button>
                <input onchange="readURL(this);" class="hidden-input" type="file" accept="video/*capture=camcorder"></input>
              </div>
          </div>
      </div>
  </div>

      <div id="bottom_nav" class="container">
          <div class="row">
              <div class="col-xs-4">
                  <a href="/user/index.html" class="i_wrapper "><i class="fa fa-home"></i></a>
              </div>
              <div class="col-xs-4">
                  <a href="/user/list.html" class="i_wrapper active"><i class="fa fa-list-ul"></i></a>
              </div>
              <div class="col-xs-4">
                  <a href="/user/profiel.html"  class="i_wrapper "><i class="fa fa-user"></i></a>
              </div>
          </div>
      </div>
    <div id="content">
        <div id="search">
            <div class="container">
                <div class="col-xs-10">
                    <div class="form-group">
                        <input id="searchInput" type="text" class="form-control" placeholder="Zoek uw gids">
                        <i class="fa fa-search"></i>
                    </div>
                </div>
                <div class="col-xs-2 filter">
                    <i class="fa fa-sliders"></i>
                </div>
            </div>
            <div class="container">
                <div class="row" id="lijstGidsen">

                </div>
            </div>
        </div>
    </div>

    <div id="filterscreen">
      <div id="heading">
        <div class="container">
          <div class="row">
            <div id="close" class="text-right col-xs-12">
                <i class="fa fa-times"></i>
            </div>
            <div class="col-xs-12 marginTopBig">
              <h3>Weten wat je wilt?</h3>
              <p>Filter de gidsen op jou voorkeur</p>
            </div>
            </div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-xs-12 marginTopSmall">
              <h5>Intresseses</h5>
            </div>
            <div class="col-xs-4">
              <div class="checkbox">
                      <input id="Architectuur" type="checkbox" checked>
                      <label for="Architectuur">
                          Architectuur
                      </label>
                  </div>
            </div>
            <div class="col-xs-4">
              <div class="checkbox">
                      <input id="Geschiedenis" type="checkbox" checked>
                      <label for="Geschiedenis">
                          Geschiedenis
                      </label>
                  </div>
            </div>
            <div class="col-xs-4">
              <div class="checkbox">
                      <input id="Sport" type="checkbox" checked>
                      <label for="Sport">
                          Sport
                      </label>
                  </div>
            </div>
            <div class="col-xs-4">
              <div class="checkbox">
                      <input id="Haven" type="checkbox" checked>
                      <label for="Haven">
                          Haven/Boten
                      </label>
                  </div>
            </div>
            <div class="col-xs-4">
              <div class="checkbox">
                      <input id="Cultuur" type="checkbox" checked>
                      <label for="Cultuur">
                          Cultuur
                      </label>
                  </div>
            </div>
          </div>
        </div>
        <button id="filterBtn" type="button" name="button" class="btn-green btn-big">Filter</button>
    </div>



    <script type="text/javascript" src="/js/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.16.0/jquery.validate.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<!-- <script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
<script>
  $(document).on("mobileinit", function(){
      $.mobile.ajaxEnabled=false;
      $.mobile.loadingMessage = false;
  });
  </script>



<script type="text/javascript" src="/js/jquery.touchSwipe.min.js"></script>
<script type="text/javascript" src="/js/app.js"></script>

        <script type="text/javascript">


            $('.filter').click(function(){
              $('#top_menu').fadeOut();
              $('#filterscreen').fadeIn();
            })
            $('#close').click(function(){
              $('#top_menu').fadeIn();
              $('#filterscreen').fadeOut();
            })


              var gidsenArray = [
                {
                  name: 'Ryan George',
                  intr: 'Cultuur, Sport',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Haven/Boten, Sport',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Geschiedenis, Architectuur',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Architectuur, Sport',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Sport, Haven/Boten',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Cultuur, Haven/Boten',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Sport, Haven/Boten',
                  show: true,
                  online: true
                },
                {
                  name: 'eimand',
                  intr: 'Sport, Haven/Boten',
                  show: true,
                  online: false
                },
                {
                  name: 'eimand',
                  intr: 'Sport, Haven/Boten',
                  show: true,
                  online: false
                },
                {
                  name: 'eimand',
                  intr: 'Architectuur',
                  show: true,
                  online: true
                }
              ]
              function makeList(){
                $('#lijstGidsen').empty();
              for (var i = 0; i < gidsenArray.length; i++) {
                if (gidsenArray[i].show) {
                  $('#lijstGidsen').append(`

                    <div class="col-xs-12 gistList-info">
                    <a href="/gidsen">
                        <div class="col-xs-3">
                            <img src="/img/pf-img.jpg" class="img-responsive" alt="">
                        </div>
                        <div class="col-xs-9">
                            <h5>${gidsenArray[i].name}</h5><span style="background-color: ${gidsenArray[i].online ? 'green' : 'red'}"></span>
                            <p class="intr">${gidsenArray[i].intr}</p>
                        </div>
                        </a>
                    </div>

                    `)
                }
              }
            }
            makeList();
            $('#searchInput').on('keyup',function(){
              var allCheckboxes=$('[type=checkbox]');
              $.each(allCheckboxes, function(index, value){
                var id = '#' + $(this).attr('id');
                $(id).prop('checked', true);
              })
              console.log($('#searchInput').val());
              for (var i = 0; i < gidsenArray.length; i++) {
                if (gidsenArray[i].name.indexOf($('#searchInput').val()) != -1) {
                  console.log(gidsenArray[i].name + ' ' + $('#searchInput').val());
                  gidsenArray[i].show = true;
                  makeList();
                }else{
                  gidsenArray[i].show = false;
                  makeList();
                }
              }
            })
            $('#filterBtn').click(function(){
              var allCheckboxes=$('[type=checkbox]');
              var checked = [];
              $.each(allCheckboxes, function(index, value){
                var id = '#' + $(this).attr('id');
                if ($(id).is(':checked')) {
                  console.log(id + '   checked');
                  checked.push(id.substring(1));
                }

              })

              console.log(checked);

              for (var i = 0; i < gidsenArray.length; i++) {
                var zichtbaar;
                    for (var j = 0; j < checked.length; j++) {
                      // console.log(gidsenArray[i].intr.indexOf(checked[i]) + ' ' + gidsenArray[i].name );
                      if (gidsenArray[i].intr.indexOf(checked[j]) >= 0) {
                          zichtbaar = true;
                      }
                      console.log(zichtbaar);
                  }
                    if (!zichtbaar) {
                      gidsenArray[i].show = false;
                      makeList();
                    }else{
                      gidsenArray[i].show = true;
                      console.log(gidsenArray);
                      makeList();
                    }
                    zichtbaar = false;
              }

              $('#top_menu').fadeIn();
              $('#filterscreen').fadeOut();

            });





            $('#logout').click(function() {
                localStorage.removeItem('token');
                window.location.href = "/";
            });
            $('#cam').click(function() {
                $('.hidden-input').click();
            });
            $('.hidden-input').change(function() {
                $('body, html').css('overflow', 'hidden');
                $('#content, #top_menu, #bottom_nav').fadeOut(300);
                $('#foto-previeuw').fadeIn(300);
            });

            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        $('#foto-previeuw img')
                            .attr('src', e.target.result);
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            }
            $('.yes').click(function() {
                var bannerImage = $('#foto-previeuw img').attr('src');
                // console.log(bannerImage);
                var lstore = JSON.parse(localStorage.getItem('stories'));
                if (lstore === null) {
                  lstore = [];
                  var newFoto = {
                    img: bannerImage
                  }
                    lstore.push(newFoto);
                  localStorage.setItem("stories", JSON.stringify(lstore));
                  console.log(JSON.parse(localStorage.getItem('stories')));
                }else{
                  var newFoto = {
                    img: bannerImage
                  }
                    lstore.push(newFoto);
                  localStorage.setItem("stories", JSON.stringify(lstore));
                  console.log(JSON.parse(localStorage.getItem('stories')));
                }

                $('.hidden-input').val('');
                $('body, html').css('overflow', 'scroll');
                $('#content, #top_menu, #bottom_nav').fadeIn(300);
                $('#foto-previeuw').fadeOut(300);
                window.location.href = "/stories";
            })
            $('.no').click(function(){
                $('.hidden-input').val('');
                $('body, html').css('overflow', 'scroll');
                $('#content, #top_menu, #bottom_nav').fadeIn(300);
                $('#foto-previeuw').fadeOut(300);
            })
        </script>

        
</body>
</html>
